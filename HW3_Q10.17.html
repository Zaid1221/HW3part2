<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HW3</title>
    <script type="text/javascript">

        var tlane = [];
        var hlane = [];

        for(var i=0; i<71; i++)
        {
            tlane[i] = "_";
            hlane[i] = "_";
        }

        var tpos = 0;
        var hpos = 0;

        var counter = 0;

        /*
        for(var i=0; i<70; i++)
        {
            document.write(tlane[i] + " ");
        }
        document.write("<br></br>");
        for(var i=0; i<70; i++)
        {
            document.write(hlane[i] + " ");
        }
        */

        var interval = setInterval(race, 100);


        function race()
        {
            if(counter === 0)
            {
                document.write("BANG !!!!!");
                document.write(" AND THEY'RE OFF !!!!!");
            }


            if((tpos >= 70) || (hpos >= 70))
            {
                clearInterval(interval);

                if(tpos >= 70)
                {
                    document.write(" TORTOISE WINS!!! YAY!!! ");
                }
                else if(hpos >= 70)
                {
                    document.write("Hare wins. Yuck! ");
                }
            }
            else
            {
                var rand = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
                var t = move(1, rand);
                rand = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
                var h = move(2, rand);

                tlane[tpos] = '_';
                hlane[hpos] = '_';

                tpos = tpos + t;
                hpos = hpos + h;

                if (tpos < 0) {
                    tpos = 0;
                }
                if (hpos < 0) {
                    hpos = 0;
                }

                tlane[tpos] = 'T';
                hlane[hpos] = 'H';

                document.writeln("<br></br>");
                document.writeln("//////////");
                document.writeln("<br></br>");
                track();
                counter++;
            }
        }

        function move(type, Random)
        {
            Random = Number(Random);

            if(type === 1) //Tortoises moves
            {
                if((Random >= 1) && (Random <= 5))
                {
                    return 3;
                }
                else if((Random >= 6) && (Random <=7))
                {
                    return -6;
                }
                else if((Random >= 8) && (Random <= 10))
                {
                    return 1;
                }
            }
            else //Hares moves
            {
                if((Random >= 1) && (Random <= 2))
                {
                    return 0;
                }
                else if((Random >= 2) && (Random <=3))
                {
                    return 9;
                }
                else if(Random === 4)
                {
                    return -12;
                }
                else if((Random >= 5) && (Random <=8))
                {
                    return 1;
                }
                else if((Random >= 9) && (Random <= 10))
                {
                    return -2;
                }
            }
        }

        function track()
        {
            document.open();
            for(var i=0; i<70; i++)
            {
                document.write(tlane[i] + " ");
            }
            document.write("<br></br>");
            for(var i=0; i<70; i++)
            {
                document.write(hlane[i] + " ");
            }

            if(tpos === hpos)
            {
                document.write("OUCH!!!");
            }
        }
    </script>
</head>
<body>

</body>
</html>
